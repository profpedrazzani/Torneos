<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crear Nuevo Torneo - TorneoManager Pro</title>
    <!--<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">-->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/font/bootstrap-icons.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg fixed-top navbar-glass shadow-sm">
        <div class="container">
            <a class="navbar-brand fw-bold" href="index.html">
                <div class="brand-icon">
                    <i class="bi bi-trophy-fill"></i>
                </div>
                <span>TorneoManager <span class="text-primary">Pro</span></span>
            </a>
            
            <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <i class="bi bi-list fs-2"></i>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav mx-auto">
                    <li class="nav-item">
                        <a class="nav-link px-3" href="index.html">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link px-3" href="torneos.html">Torneos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link px-3" href="equipos.html">Equipos</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="crear-torneo.html">Crear Torneo</a>
                    </li>
                </ul>
                
                <div class="d-flex align-items-center gap-2">
                    <a href="login.html" class="btn btn-link text-dark text-decoration-none fw-medium">Ingresar</a>
                    <a href="registro.html" class="btn btn-primary rounded-pill px-4 shadow-sm">Registrarse</a>
                </div>
            </div>
        </div>
    </nav>


    <div class="container py-5 mt-5">
        <div class="row justify-content-center">
            <div class="col-lg-10"> <div class="card border-0 shadow-lg rounded-4 overflow-hidden">
                    <div class="card-header bg-primary py-4 text-center">
                        <h2 class="text-white fw-bold mb-0">Configuración Avanzada del Torneo</h2>
                    </div>
                    <div class="card-body p-4 p-md-5">
                        <form id="createTournamentForm">
                            
                            <div class="row mb-5">
                                <div class="col-md-4 text-center mb-4 mb-md-0">
                                    <label class="fw-bold d-block mb-3">Logo del Torneo</label>
                                    <div class="upload-container mx-auto" onclick="document.getElementById('logoInput').click()">
                                        <input type="file" id="logoInput" hidden accept="image/*" onchange="previewImage(this)">
                                        <div id="previewArea">
                                            <i class="bi bi-cloud-arrow-up fs-1 text-primary"></i>
                                            <p class="small text-muted">Subir imagen</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-8">
                                    <h5 class="text-primary fw-bold mb-3">Información Básica</h5>
                                    <div class="row g-3">
                                        <div class="col-12">
                                            <input type="text" class="form-control bg-light border-0" placeholder="Nombre del Torneo">
                                        </div>
                                        <div class="col-md-6">
                                            <input type="text" class="form-control bg-light border-0" placeholder="Ciudad/Provincia">
                                        </div>
                                        <div class="col-md-6">
                                            <select class="form-select bg-light border-0">
                                                <option selected>Categoría</option>
                                                <option>Profesional</option>
                                                <option>Amateur</option>
                                                <option>Juvenil</option>
                                                <option>Infantil</option>
                                                <option>Senior</option>
                                                <option>Femenil</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mb-5 p-4 bg-light rounded-4">
                                <h5 class="fw-bold mb-4 text-dark"><i class="bi bi-diagram-3 me-2"></i>Sistema de Juego</h5>
                                <div class="row g-4">
                                    <div class="col-md-6">
                                        <label class="form-label fw-semibold">Tipo de Torneo</label>
                                        <select class="form-select border-0 shadow-sm">
                                            <option>Todos contra todos (Liga)</option>
                                            <option>Eliminación directa (Playoff)</option>
                                            <option>Grupos y Eliminación directa</option>
                                            <option>Grupos y Grupo Final</option>
                                        </select>
                                    </div>
                                    <div class="col-md-6">
                                        <label class="form-label fw-semibold">Puntos (G / E / P)</label>
                                        <div class="d-flex gap-2">
                                            <input type="number" class="form-control border-0 shadow-sm text-center" value="3" title="Ganador">
                                            <input type="number" class="form-control border-0 shadow-sm text-center" value="1" title="Empate">
                                            <input type="number" class="form-control border-0 shadow-sm text-center" value="0" title="Perdedor">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mb-5">
                                <h5 class="text-primary fw-bold mb-4 border-bottom pb-2">Reglamento Técnico</h5>
                                <div class="row g-3">
                                    <div class="col-md-3">
                                        <label class="small fw-bold">Duración (minutos)</label>
                                        <input type="number" class="form-control bg-light border-0" placeholder="Ej: 90">
                                    </div>
                                    <div class="col-md-3">
                                        <label class="small fw-bold">Jugadores por equipo</label>
                                        <input type="number" class="form-control bg-light border-0" placeholder="Ej: 11">
                                    </div>
                                    <div class="col-md-3">
                                        <label class="small fw-bold">Sustituciones</label>
                                        <input type="number" class="form-control bg-light border-0" placeholder="Ej: 5">
                                    </div>
                                    <div class="col-md-3">
                                        <label class="small fw-bold">Desempate</label>
                                        <select class="form-select bg-light border-0">
                                            <option>Penales directos</option>
                                            <option>Tiempo extra + Penales</option>
                                            <option>Gol de oro</option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <div class="mb-5">
                                <h5 class="text-primary fw-bold mb-3">Premios y Reconocimientos</h5>
                                <div class="row g-3">
                                    <div class="col-6 col-md-3">
                                        <div class="form-check custom-card-check">
                                            <input class="form-check-input" type="checkbox" id="p1">
                                            <label class="form-check-label" for="p1">Goleador</label>
                                        </div>
                                    </div>
                                    <div class="col-6 col-md-3">
                                        <div class="form-check custom-card-check">
                                            <input class="form-check-input" type="checkbox" id="p2">
                                            <label class="form-check-label" for="p2">Valla Invicta</label>
                                        </div>
                                    </div>
                                    <div class="col-6 col-md-3">
                                        <div class="form-check custom-card-check">
                                            <input class="form-check-input" type="checkbox" id="p3">
                                            <label class="form-check-label" for="p3">Fair Play</label>
                                        </div>
                                    </div>
                                    <div class="col-6 col-md-3">
                                        <div class="form-check custom-card-check">
                                            <input class="form-check-input" type="checkbox" id="p4">
                                            <label class="form-check-label" for="p4">Mejor Jugador</label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <button type="submit" class="btn btn-primary btn-lg w-100 rounded-pill py-3 fw-bold">
                                CREAR TORNEO AHORA
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Success Modal -->
    <div class="modal fade" id="successModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-body text-center p-5">
                    <div class="mb-4">
                        <i class="bi bi-check-circle-fill text-success" style="font-size: 4rem;"></i>
                    </div>
                    <h4 class="mb-3">¡Torneo Creado Exitosamente!</h4>
                    <p class="text-muted mb-4">Tu torneo ha sido configurado y está listo para recibir inscripciones de equipos.</p>
                    <div class="d-flex gap-2 justify-content-center">
                        <a href="torneo.html" class="btn btn-primary">
                            <i class="bi bi-eye me-2"></i>Ver Torneo
                        </a>
                        <a href="torneos.html" class="btn btn-outline-secondary">
                            <i class="bi bi-list me-2"></i>Todos los Torneos
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white py-5 mt-5">
        <div class="container">
            <div class="row g-4">
                <div class="col-lg-4">
                    <h5 class="mb-3">
                        <i class="bi bi-trophy-fill text-primary me-2"></i>
                        TorneoManager Pro
                    </h5>
                    <p class="text-light">La plataforma más avanzada para gestionar torneos de fútbol. Organiza, administra y disfruta de tus competiciones deportivas.</p>
                    <div class="d-flex gap-3">
                        <a href="#" class="text-light"><i class="bi bi-facebook fs-5"></i></a>
                        <a href="#" class="text-light"><i class="bi bi-twitter fs-5"></i></a>
                        <a href="#" class="text-light"><i class="bi bi-instagram fs-5"></i></a>
                        <a href="#" class="text-light"><i class="bi bi-linkedin fs-5"></i></a>
                    </div>
                </div>
                
                <div class="col-lg-2 col-md-6">
                    <h6 class="mb-3">Plataforma</h6>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="torneos.html" class="text-light text-decoration-none">Torneos</a></li>
                        <li class="mb-2"><a href="equipos.html" class="text-light text-decoration-none">Equipos</a></li>
                        <li class="mb-2"><a href="jugadores.html" class="text-light text-decoration-none">Jugadores</a></li>
                        <li class="mb-2"><a href="estadisticas.html" class="text-light text-decoration-none">Estadísticas</a></li>
                    </ul>
                </div>
                
                <div class="col-lg-2 col-md-6">
                    <h6 class="mb-3">Recursos</h6>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="#" class="text-light text-decoration-none">Ayuda</a></li>
                        <li class="mb-2"><a href="#" class="text-light text-decoration-none">Documentación</a></li>
                        <li class="mb-2"><a href="#" class="text-light text-decoration-none">API</a></li>
                        <li class="mb-2"><a href="#" class="text-light text-decoration-none">Blog</a></li>
                    </ul>
                </div>
                
                <div class="col-lg-2 col-md-6">
                    <h6 class="mb-3">Empresa</h6>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="#" class="text-light text-decoration-none">Acerca de</a></li>
                        <li class="mb-2"><a href="#" class="text-light text-decoration-none">Contacto</a></li>
                        <li class="mb-2"><a href="#" class="text-light text-decoration-none">Carreras</a></li>
                        <li class="mb-2"><a href="#" class="text-light text-decoration-none">Prensa</a></li>
                    </ul>
                </div>
                
                <div class="col-lg-2 col-md-6">
                    <h6 class="mb-3">Legal</h6>
                    <ul class="list-unstyled">
                        <li class="mb-2"><a href="#" class="text-light text-decoration-none">Privacidad</a></li>
                        <li class="mb-2"><a href="#" class="text-light text-decoration-none">Términos</a></li>
                        <li class="mb-2"><a href="#" class="text-light text-decoration-none">Cookies</a></li>
                        <li class="mb-2"><a href="#" class="text-light text-decoration-none">Licencias</a></li>
                    </ul>
                </div>
            </div>
            
            <hr class="my-4 border-secondary">
            
            <div class="row align-items-center">
                <div class="col-md-6">
                    <p class="mb-0 text-light">&copy; 2024 TorneoManager Pro. Todos los derechos reservados.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p class="mb-0 text-light">Hecho con ❤️ para la comunidad deportiva</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/SCRIPTS.js"></script>

    <script>
        let currentStep = 1;
        const totalSteps = 4;

        // Initialize form
        document.addEventListener('DOMContentLoaded', function() {
            // Set minimum date to today
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('startDate').min = today;
            document.getElementById('endDate').min = today;
            document.getElementById('registrationDeadline').min = today;

            // Team registration type change
            document.querySelectorAll('input[name="teamRegistration"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    const inviteTeams = document.getElementById('inviteTeams');
                    const teamsList = document.getElementById('teamsList');
                    
                    if (this.value === 'invite') {
                        inviteTeams.style.display = 'block';
                        teamsList.style.display = 'none';
                    } else {
                        inviteTeams.style.display = 'none';
                        teamsList.style.display = 'block';
                    }
                });
            });
        });

        function changeStep(direction) {
            if (direction === 1 && !validateCurrentStep()) {
                return;
            }

            // Hide current step
            document.getElementById(`step${currentStep}`).classList.remove('active');
            document.querySelector(`.step-item:nth-child(${currentStep})`).classList.remove('active');

            // Update step
            currentStep += direction;

            // Show new step
            document.getElementById(`step${currentStep}`).classList.add('active');
            document.querySelector(`.step-item:nth-child(${currentStep})`).classList.add('active');

            // Update buttons
            updateButtons();

            // If step 4, populate review
            if (currentStep === 4) {
                populateReview();
            }

            // Scroll to top
            window.scrollTo(0, 0);
        }

        function updateButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const submitBtn = document.getElementById('submitBtn');

            prevBtn.style.display = currentStep > 1 ? 'block' : 'none';
            nextBtn.style.display = currentStep < totalSteps ? 'block' : 'none';
            submitBtn.style.display = currentStep === totalSteps ? 'block' : 'none';
        }

        function validateCurrentStep() {
            const currentStepElement = document.getElementById(`step${currentStep}`);
            const requiredFields = currentStepElement.querySelectorAll('[required]');
            
            for (let field of requiredFields) {
                if (!field.value.trim()) {
                    field.focus();
                    field.classList.add('is-invalid');
                    return false;
                } else {
                    field.classList.remove('is-invalid');
                }
            }
            return true;
        }

        function updateFormatInfo() {
            const format = document.getElementById('tournamentFormat').value;
            const formatInfo = document.getElementById('formatInfo');
            const formatDescription = document.getElementById('formatDescription');
            
            const descriptions = {
                'liga': 'Todos los equipos juegan entre sí una vez. El equipo con más puntos gana.',
                'eliminacion': 'Los equipos se eliminan en cada ronda hasta que quede un ganador.',
                'grupos': 'Los equipos se dividen en grupos, luego los mejores avanzan a eliminatorias.',
                'suizo': 'Los equipos juegan un número fijo de rondas contra oponentes de nivel similar.'
            };

            if (format && descriptions[format]) {
                formatDescription.textContent = descriptions[format];
                formatInfo.style.display = 'block';
            } else {
                formatInfo.style.display = 'none';
            }
        }

        function calculateMatches() {
            const teams = parseInt(document.getElementById('numberOfTeams').value);
            const format = document.getElementById('tournamentFormat').value;
            
            if (teams && format) {
                let matches = 0;
                switch (format) {
                    case 'liga':
                        matches = (teams * (teams - 1)) / 2;
                        break;
                    case 'eliminacion':
                        matches = teams - 1;
                        break;
                    case 'grupos':
                        matches = Math.floor(teams * 1.5); // Approximation
                        break;
                    case 'suizo':
                        matches = teams * 3; // Approximation
                        break;
                }
                
                if (matches > 0) {
                    const formatInfo = document.getElementById('formatInfo');
                    const formatDescription = document.getElementById('formatDescription');
                    formatDescription.textContent += ` Se jugarán aproximadamente ${matches} partidos.`;
                    formatInfo.style.display = 'block';
                }
            }
        }

        function addTeamSlot() {
            const invitedTeamsList = document.getElementById('invitedTeamsList');
            const teamCount = invitedTeamsList.children.length + 1;
            
            const teamSlot = document.createElement('div');
            teamSlot.className = 'mb-3 team-slot';
            teamSlot.innerHTML = `
                <div class="d-flex gap-2">
                    <input type="text" class="form-control" placeholder="Nombre del equipo ${teamCount}" name="invitedTeam[]">
                    <button type="button" class="btn btn-outline-danger" onclick="removeTeamSlot(this)">
                        <i class="bi bi-trash"></i>
                    </button>
                </div>
            `;
            
            invitedTeamsList.appendChild(teamSlot);
        }

        function removeTeamSlot(button) {
            button.closest('.team-slot').remove();
        }

        function populateReview() {
            const reviewContent = document.getElementById('reviewContent');
            const formData = new FormData(document.getElementById('tournamentForm'));
            
            const tournamentName = document.getElementById('tournamentName').value;
            const tournamentIcon = document.getElementById('tournamentIcon').value;
            const category = document.getElementById('tournamentCategory').value;
            const format = document.getElementById('tournamentFormat').value;
            const teams = document.getElementById('numberOfTeams').value;
            const startDate = document.getElementById('startDate').value;
            
            reviewContent.innerHTML = `
                <div class="row g-4">
                    <div class="col-md-6">
                        <h6>Información Básica</h6>
                        <table class="table table-sm">
                            <tr><td>Nombre:</td><td><strong>${tournamentIcon} ${tournamentName}</strong></td></tr>
                            <tr><td>Categoría:</td><td>${category}</td></tr>
                            <tr><td>Organizador:</td><td>${document.getElementById('organizer').value}</td></tr>
                            <tr><td>Ubicación:</td><td>${document.getElementById('location').value || 'No especificada'}</td></tr>
                        </table>
                    </div>
                    <div class="col-md-6">
                        <h6>Formato y Reglas</h6>
                        <table class="table table-sm">
                            <tr><td>Formato:</td><td>${format}</td></tr>
                            <tr><td>Equipos:</td><td>${teams}</td></tr>
                            <tr><td>Duración:</td><td>${document.getElementById('matchDuration').value} minutos</td></tr>
                            <tr><td>Jugadores:</td><td>${document.getElementById('playersPerTeam').value} vs ${document.getElementById('playersPerTeam').value}</td></tr>
                        </table>
                    </div>
                    <div class="col-md-6">
                        <h6>Fechas</h6>
                        <table class="table table-sm">
                            <tr><td>Inicio:</td><td>${startDate ? new Date(startDate).toLocaleDateString() : 'No especificada'}</td></tr>
                            <tr><td>Fin:</td><td>${document.getElementById('endDate').value ? new Date(document.getElementById('endDate').value).toLocaleDateString() : 'No especificada'}</td></tr>
                            <tr><td>Límite inscripción:</td><td>${document.getElementById('registrationDeadline').value ? new Date(document.getElementById('registrationDeadline').value).toLocaleDateString() : 'No especificada'}</td></tr>
                        </table>
                    </div>
                    <div class="col-md-6">
                        <h6>Puntuación</h6>
                        <table class="table table-sm">
                            <tr><td>Victoria:</td><td>${document.getElementById('winPoints').value} puntos</td></tr>
                            <tr><td>Empate:</td><td>${document.getElementById('drawPoints').value} puntos</td></tr>
                            <tr><td>Derrota:</td><td>${document.getElementById('lossPoints').value} puntos</td></tr>
                        </table>
                    </div>
                </div>
            `;
        }

        // Form submission
        document.getElementById('tournamentForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (!document.getElementById('termsAccepted').checked) {
                alert('Debes aceptar los términos y condiciones');
                return;
            }
            
            // Simulate tournament creation
            setTimeout(() => {
                const successModal = new bootstrap.Modal(document.getElementById('successModal'));
                successModal.show();
            }, 1000);
        });
    </script>

    <style>
        .step-item {
            position: relative;
            padding: 20px 0;
        }
        
        .step-number {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e9ecef;
            color: #6c757d;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin: 0 auto 10px;
            transition: all 0.3s ease;
        }
        
        .step-item.active .step-number {
            background: #0d6efd;
            color: white;
        }
        
        .step-title {
            font-size: 0.9rem;
            color: #6c757d;
            transition: all 0.3s ease;
        }
        
        .step-item.active .step-title {
            color: #0d6efd;
            font-weight: 600;
        }
        
        .step-content {
            display: none;
        }
        
        .step-content.active {
            display: block;
        }
        
        .team-slot {
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .form-control.is-invalid {
            border-color: #dc3545;
            box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);
        }
        
        @media (max-width: 768px) {
            .step-item {
                padding: 10px 0;
            }
            
            .step-number {
                width: 30px;
                height: 30px;
                font-size: 0.9rem;
            }
            
            .step-title {
                font-size: 0.8rem;
            }
        }
    </style>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98268f5317a583ea',t:'MTc1ODQyNjIyMi4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
